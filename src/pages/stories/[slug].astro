---
import Layout from '@/layouts/Layout.astro';
import type { IStory } from '@/types';

export async function getStaticPaths() {
  const stories: Array<{ frontmatter: IStory; default: any }> = Object.values(
    import.meta.glob('../../stories/en/*.md', { eager: true }),
  );

  return stories.map((story) => ({
    params: { slug: story.frontmatter.slug },
    props: { story },
  }));
}

const { story } = Astro.props;
const { frontmatter, default: Content } = story;
---

<Layout>
  <article class="prose mx-auto max-w-3xl px-4 py-12">
    <h1 class="mb-4 text-5xl leading-16">{frontmatter.title}</h1>
    <span class="badge badge-soft badge-primary">
      {frontmatter.category}
    </span>
    <div class="divider"></div>
    <Content />
  </article>
</Layout>
